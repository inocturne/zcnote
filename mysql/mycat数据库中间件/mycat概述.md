## 相关链接
- [Mycat之全局表](https://blog.csdn.net/yelllowcong/article/details/79071118)
- [MyCat踩坑记](https://www.jianshu.com/p/7a8f8316d440?from=timeline&isappinstalled=0)

## 概述
myCat前身Cobar(java开发的),数据库查询一般有两种,一种是事务处理(即实时查询),一种是统计查询,随着业务复杂化和数据量增长,关系数据库就变得力不从心,所以后来出现了很多nosql,nosql的根本优势是在云计算时代,简单,支持分布式部署,易于扩展,可伸缩,读写性能非常高;关系数据库说到底是单机性能问题

`mycat`是开源的分布式数据库系统,是一个实现了mysql协议的server,其核心功能是分库分表,除此之外,可以用作读写分离,容灾备份

## 1 数据切分
### 1.1 垂直切分
数据库将表拆分到不同的数据库
### 1.2 水平切分
数据库表将行拆分到不同的表
### 1.3 切分之后带来的问题
- 跨库join带来的性能损耗(通过冗余字段减少这种可能)
- 分页排序问题
- 多个数据源管理问题(正式myCat的用处)

## 2 mycat原理
拦截sql,对sql做分片分析,路由分析,读写分离分析,缓存分析等,然后将sql发往后端真实数据库,并将返回的结果做适当的处理,最终再返回给用户.
以`select * from orders where prov = ?`为例,查询`prov = wuzhc`,按照分片函数,wuzhc返回db1,于是sql发送到mysql1

## 3 应用场景
- 简单的读写分离
- 分表分库,最大支持1000亿的单表分片
- 多租户应用
- 报表统计
- 代替Hbase,分析大数据

## 各种概念
- 逻辑表
- 分片表
- 非分片表
- ER表
- 全局表 查询时候只从一个节点上执行,插入的时候每个节点都会插入
- 分片节点 dataNode
- 节点主机 dataHost
- 分片规则 rule
- 全局序列号 sequence
