- 说明:关于队列可以参考我一篇文章, [Redis 实现队列](https://segmentfault.com/a/1190000011084493)
- 优化:这里主要讲下后台多个worker消费问题.采用swoole多进程管理多个worker消费者,worker消费者可以分为两类,一种是静态worker,即退出后会重启,一种是动态worker,只有当队列积压很多任务数,会启用动态新增worker缓解压力,处理完任务后退出不重启;每个worker可以设置worker最大执行时间,最大执行任务数,这样的好处是防止worker内存溢出;当然不要开太多进程,进程切换开销很大的;
- 参考[zcswoole消息队列](https://www.kancloud.cn/wuzhc/zcswoole/742975)
